{{ define "main" }}
{{ $path := replace .File.Path "index.md" (.Page.Title | lower) }}
{{ $language := (or .Params.language "") }}
<header>
    <h1>{{ .Title }}</h1>
    <a href="{{ printf "https://raw.githubusercontent.com/theastrowolfe/theastrowolfe.github.io/master/%s" $path }}">Raw</a>
    <a href="{{ .Params.Title }}">Download</a>
</header>

{{ .Content }}

{{ printf "```%s\n%s\n```" $language (trim (readFile $path) "\n") | markdownify }}
{{ end }}
